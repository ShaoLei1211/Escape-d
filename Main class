import java.util.Scanner;
public class Main {
    public static Scanner scan;
    public static Boolean escape = false;
    // Define position
    public static Boolean infoyer = true;
    public static Boolean inlibrary = false;
    public static Boolean inconservatory = false;
    // Define objects in room foyer
    public static Boolean chest_opened = false;
    public static Boolean has_matches = false;
    public static Boolean candle_lighted = false;
    public static Boolean foyer_door_locked = true;
    public static Boolean foyer_door_opened = false;


    // Define objects in library
    public static Boolean has_pen = false;
    public static Boolean Book_titled = false;
    public static Boolean library_door_locked = true;
    public static Boolean library_door_opened = false;

    // Define objects in conservatory
    public static Boolean trumpet_played = false;
    public static Boolean drum_played = false;
    public static Boolean piano_played = false;

    public static String output = "When you open your eyes, you find yourself in a foyer.\n Inside the foyer is a bench, a chest, an unlit candle, and a note. \"The note says, “May my light show you the way.”\"There is a door to the north, but it is locked.";

    public static int round;

    public static void main(String[] args) {
        //round left
        System.out.println("Welcome to the game Escape'd.\nYou have 30 moves to escape.\nThere are certain verbs can be used in the game:\nopen, close, light, read, write, play, look, get\nCombined with following nouns:\ndoor, room, bench, chest, candle, notes, matches, shelves, book, pen, scroll, music, trumpet, piano, drum, lock");
        double number = round(31);
        minus_round(1);
            gameUsage();
        }

    public static void minus_round(int a) {
        round -= a;
    }

    public static double gameUsage() {
        if (infoyer) {
            foyer();
        } else if (inlibrary) {
            library();
        } else if (inconservatory) {
            conservatory();
        }
        if (round>30){}

        return gameUsage();
    }

    public static double round(int b) {
        if (b > 31) {
            gameUsage();
        }
        return gameUsage();
    }

    public static void foyer() {
        System.out.println("you have " + round + " rounds left.");

        Scanner scan = new Scanner(System.in);
        System.out.println("Please enter your command");
        String input = scan.nextLine();

        switch (input) {
            case "look chest":
                output = "the chest is closed";
                System.out.println(output);
                break;
            case "open chest":
                chest_opened = true;
                output = "There are matches in the chest.";
                System.out.println(output);
                break;

            case "get matches":
                has_matches = true;
                output = "You have a box of matches.";
                System.out.print(output);
                break;

            case "light candle":
                if (has_matches) {
                    candle_lighted = true;
                    foyer_door_locked = false;
                    output = "The candle is lit. You heard a metal grinding sound from the north.";
                } else {
                    output = "You don't have any matches.";
                }
                System.out.print(output);
                break;

            case "look door":
                if (!foyer_door_locked) {
                    if (foyer_door_opened) {
                        output = "The door is unlocked and open.";
                    } else {
                        output = "The door is unlocked, but closed.";
                    }
                } else {
                    output = "The door is locked.";
                }
                System.out.print(output);
                break;

            case "open door":
                if (!foyer_door_locked) {
                    foyer_door_opened = true;
                    output = "The north door is open.";
                }
                break;

            case "go north":
                if (foyer_door_opened) {
                    infoyer = false;
                    inlibrary = true;
                    output = "Congratulation! You have left the foyer. On your way out, the door slammed and locked. You now find yourself in a library full of shelves of books. In the center of the room is a desk, which has a pen and a scroll on it. A door is on the north side wall waiting for you to open";
                }
                System.out.print(output);
                break;

        }
    }

    public static void library() {
        System.out.println("you have " + round + " rounds left.");
        scan = new Scanner(System.in);
        String input = scan.nextLine();

        switch (input) {

            case "look bookshelf":
                output = "There is a book titled 'The Autobiography of ...' with the rest of the title empty.";
                System.out.print(output);
                break;

            case "get pen":
                has_pen = true;
                output = "You now holding the pen.";
                System.out.print(output);
                break;

            case "read scroll":
                output = "the scroll says, 'Share your story.'";
                System.out.print(output);
                break;

            case "search shelves":
                output = "there is an open book on the shelves titled “The Autobiography of...” with the rest of the title empty.";
                System.out.print(output);
                break;

            case "read book":
            case "read name":
                Book_titled = true;
                library_door_locked = false;
                output = "you now have finished the book and have a pen. you are ready to leave";
                System.out.print(output);
                break;

            case "look door":
                if (!library_door_locked) {
                    if (library_door_opened) {
                        output = "The door is unlocked and open.";
                    } else {
                        output = "The door is unlocked, but closed.";
                    }
                } else {
                    output = "The door is locked.";
                }
                System.out.print(output);
                break;

            case "open door":
                if (!library_door_locked) {
                    library_door_opened = true;
                    output = "The north door is open.";
                }
                System.out.print(output);
                break;

            case "north":
                if (foyer_door_opened) {
                    inlibrary = false;
                    inconservatory = true;
                    output = "Congratulation! You have left the library. On your way out, the door slammed and locked. You are now in the conservatory. You now find yourself in a conservatory having three music instruments:Trumpet, Piano, and Drum. In order to escape, you need to play them in order. Good luck.";
                }
                System.out.print(output);
                break;
        }
    }

    public static void conservatory() {
        System.out.println("you have " + round + " rounds left.");
        scan = new Scanner(System.in);
        String test = scan.nextLine();

        switch (test) {
            case "read music":
                output = "Timbre, Tone, Time";
                System.out.print(output);
                break;

            case "play trumpet":
                if (!piano_played && !drum_played) {
                    trumpet_played = true;
                    output = "you have played the trumpet!";
                } else {
                    output = "the trumpet is broken";
                }
                System.out.print(output);
                break;

            case "play piano":
                if (trumpet_played && !drum_played) {
                    piano_played = true;
                    output = "you have played the piano";
                } else {
                    output = "the piano is broken";
                }
                System.out.print(output);
                break;

            case "play drum":
                if (trumpet_played && piano_played) {
                    drum_played = true;
                    output = "you have played the drum";
                } else {
                    output = "the drum is broken";
                }
                System.out.print(output);
                break;

            case "play in order"  :
                if ((trumpet_played)&&(piano_played)&&(drum_played)){
                    escape = true;
                    output = "Congratulation, you have successfully escaped the house!";}
                    else {
                        System.out.print("Sorry, please try again");
                    }
                    System.out.print(output);
        }
    }

}





